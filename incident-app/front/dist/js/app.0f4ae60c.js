(function(){"use strict";var e={608:function(e,t,s){var a=s(751),i=s(641);const n={id:"app"},l={class:"navbar navbar-expand-lg navbar-dark bg-primary"},r={class:"container"},o={class:"collapse navbar-collapse",id:"navbarNav"},d={class:"navbar-nav me-auto"},c={class:"nav-item"},u={class:"nav-item"},m={class:"nav-item"},v={class:"container mt-4"};function k(e,t,s,a,k,p){const b=(0,i.g2)("router-link"),g=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)("div",n,[(0,i.Lk)("nav",l,[(0,i.Lk)("div",r,[(0,i.bF)(b,{class:"navbar-brand",to:"/"},{default:(0,i.k6)((()=>t[0]||(t[0]=[(0,i.Lk)("i",{class:"fas fa-exclamation-triangle me-2"},null,-1),(0,i.eW)(" Incident Management ")]))),_:1,__:[0]}),t[4]||(t[4]=(0,i.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[(0,i.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,i.Lk)("div",o,[(0,i.Lk)("ul",d,[(0,i.Lk)("li",c,[(0,i.bF)(b,{class:"nav-link",to:"/"},{default:(0,i.k6)((()=>t[1]||(t[1]=[(0,i.eW)("All Incidents")]))),_:1,__:[1]})]),(0,i.Lk)("li",u,[(0,i.bF)(b,{class:"nav-link",to:"/current"},{default:(0,i.k6)((()=>t[2]||(t[2]=[(0,i.eW)("Current Incidents")]))),_:1,__:[2]})]),(0,i.Lk)("li",m,[(0,i.bF)(b,{class:"nav-link",to:"/create"},{default:(0,i.k6)((()=>t[3]||(t[3]=[(0,i.eW)("Create Incident")]))),_:1,__:[3]})])])])])]),(0,i.Lk)("main",v,[(0,i.bF)(g)]),t[5]||(t[5]=(0,i.Lk)("footer",{class:"bg-light text-center text-muted py-3 mt-5"},[(0,i.Lk)("div",{class:"container"},[(0,i.Lk)("small",null,"Â© 2024 Incident Management System. Built with Vue.js & Spring Boot.")])],-1))])}var p={name:"App"},b=s(262);const g=(0,b.A)(p,[["render",k]]);var L=g,f=s(220),h=s(33);const y={class:"d-flex justify-content-between align-items-center mb-4"},C={key:0,class:"text-center"},E={key:1,class:"alert alert-danger",role:"alert"},I={key:2},S={class:"row mb-3"},_={class:"col-md-6"},x={class:"col-md-6"},w={class:"table-responsive"},F={class:"table table-striped table-hover"},O={key:0,class:"text-center py-5"},D={class:"text-muted"};function R(e,t,s,n,l,r){const o=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",y,[t[5]||(t[5]=(0,i.Lk)("h2",null,"All Incidents",-1)),(0,i.bF)(o,{to:"/create",class:"btn btn-primary"},{default:(0,i.k6)((()=>t[4]||(t[4]=[(0,i.Lk)("i",{class:"fas fa-plus me-2"},null,-1),(0,i.eW)("Create New Incident ")]))),_:1,__:[4]})]),l.loading?((0,i.uX)(),(0,i.CE)("div",C,t[6]||(t[6]=[(0,i.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,i.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)]))):l.error?((0,i.uX)(),(0,i.CE)("div",E,[t[7]||(t[7]=(0,i.Lk)("i",{class:"fas fa-exclamation-triangle me-2"},null,-1)),(0,i.eW)(" "+(0,h.v_)(l.error),1)])):((0,i.uX)(),(0,i.CE)("div",I,[(0,i.Lk)("div",S,[(0,i.Lk)("div",_,[(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.filterStatus=e),onChange:t[1]||(t[1]=(...e)=>r.applyFilters&&r.applyFilters(...e)),class:"form-select"},t[8]||(t[8]=[(0,i.Fv)('<option value="">All Statuses</option><option value="OPEN">Open</option><option value="IN_PROGRESS">In Progress</option><option value="RESOLVED">Resolved</option><option value="CLOSED">Closed</option>',5)]),544),[[a.u1,l.filterStatus]])]),(0,i.Lk)("div",x,[(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.filterSeverity=e),onChange:t[3]||(t[3]=(...e)=>r.applyFilters&&r.applyFilters(...e)),class:"form-select"},t[9]||(t[9]=[(0,i.Fv)('<option value="">All Severities</option><option value="CRITICAL">Critical</option><option value="HIGH">High</option><option value="MEDIUM">Medium</option><option value="LOW">Low</option>',5)]),544),[[a.u1,l.filterSeverity]])])]),(0,i.Lk)("div",w,[(0,i.Lk)("table",F,[t[11]||(t[11]=(0,i.Lk)("thead",{class:"table-dark"},[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"ID"),(0,i.Lk)("th",null,"Title"),(0,i.Lk)("th",null,"Severity"),(0,i.Lk)("th",null,"Status"),(0,i.Lk)("th",null,"Reporter"),(0,i.Lk)("th",null,"Assigned To"),(0,i.Lk)("th",null,"Created"),(0,i.Lk)("th",null,"Actions")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.filteredIncidents,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.id},[(0,i.Lk)("td",null,(0,h.v_)(e.id),1),(0,i.Lk)("td",null,[(0,i.bF)(o,{to:`/incident/${e.id}`,class:"text-decoration-none"},{default:(0,i.k6)((()=>[(0,i.eW)((0,h.v_)(e.title),1)])),_:2},1032,["to"])]),(0,i.Lk)("td",null,[(0,i.Lk)("span",{class:(0,h.C4)([r.getSeverityBadgeClass(e.severity),"badge severity-badge"])},(0,h.v_)(e.severity),3)]),(0,i.Lk)("td",null,[(0,i.Lk)("span",{class:(0,h.C4)([r.getStatusBadgeClass(e.status),"badge status-badge"])},(0,h.v_)(r.formatStatus(e.status)),3)]),(0,i.Lk)("td",null,(0,h.v_)(e.reporterName),1),(0,i.Lk)("td",null,(0,h.v_)(e.assignedTo||"Unassigned"),1),(0,i.Lk)("td",null,(0,h.v_)(r.formatDate(e.createdDate)),1),(0,i.Lk)("td",null,[(0,i.bF)(o,{to:`/incident/${e.id}`,class:"btn btn-sm btn-outline-primary me-2"},{default:(0,i.k6)((()=>t[10]||(t[10]=[(0,i.eW)(" View ")]))),_:2,__:[10]},1032,["to"])])])))),128))])]),0===l.filteredIncidents.length?((0,i.uX)(),(0,i.CE)("div",O,[t[12]||(t[12]=(0,i.Lk)("i",{class:"fas fa-inbox fa-3x text-muted mb-3"},null,-1)),t[13]||(t[13]=(0,i.Lk)("h5",{class:"text-muted"},"No incidents found",-1)),(0,i.Lk)("p",D,(0,h.v_)(0===l.incidents.length?"No incidents have been created yet.":"No incidents match the current filters."),1)])):(0,i.Q3)("",!0)])]))])}var N=s(335);const T="http://localhost:8083/api",M=N.A.create({baseURL:T,headers:{"Content-Type":"application/json"}});M.interceptors.request.use((e=>(console.log("Making request to:",e.url),e)),(e=>(console.error("Request error:",e),Promise.reject(e)))),M.interceptors.response.use((e=>e),(e=>(console.error("Response error:",e.response?.data||e.message),Promise.reject(e))));var W={getAllIncidents(){return M.get("/incidents")},getCurrentIncidents(){return M.get("/incidents/current")},getIncidentsByStatus(e){return M.get(`/incidents/status/${e}`)},getIncidentsBySeverity(e){return M.get(`/incidents/severity/${e}`)},getIncidentById(e){return M.get(`/incidents/${e}`)},createIncident(e){return M.post("/incidents",e)},updateIncident(e,t){return M.put(`/incidents/${e}`,t)},deleteIncident(e){return M.delete(`/incidents/${e}`)},healthCheck(){return M.get("/incidents/health")}},X={name:"IncidentList",data(){return{incidents:[],filteredIncidents:[],loading:!0,error:null,filterStatus:"",filterSeverity:""}},async mounted(){await this.loadIncidents()},methods:{async loadIncidents(){try{this.loading=!0,this.error=null;const e=await W.getAllIncidents();this.incidents=e.data,this.applyFilters()}catch(e){this.error="Failed to load incidents. Please try again later.",console.error("Error loading incidents:",e)}finally{this.loading=!1}},applyFilters(){this.filteredIncidents=this.incidents.filter((e=>{const t=!this.filterStatus||e.status===this.filterStatus,s=!this.filterSeverity||e.severity===this.filterSeverity;return t&&s}))},getSeverityBadgeClass(e){const t={CRITICAL:"bg-danger",HIGH:"bg-warning text-dark",MEDIUM:"bg-info",LOW:"bg-success"};return t[e]||"bg-secondary"},getStatusBadgeClass(e){const t={OPEN:"bg-primary",IN_PROGRESS:"bg-warning text-dark",RESOLVED:"bg-success",CLOSED:"bg-secondary"};return t[e]||"bg-secondary"},formatStatus(e){return e.replace("_"," ")},formatDate(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString()}}};const A=(0,b.A)(X,[["render",R]]);var P=A;const V={class:"d-flex justify-content-between align-items-center mb-4"},U={key:0,class:"text-center"},j={key:1,class:"alert alert-danger",role:"alert"},B={key:2},Q={class:"row"},H={class:"card h-100"},G={class:"card-header d-flex justify-content-between align-items-center"},$={class:"text-muted"},q={class:"card-body"},J={class:"card-title"},K={class:"card-text text-muted",style:{"font-size":"0.9rem"}},z={class:"mt-3"},Y={class:"d-flex justify-content-between align-items-center mb-2"},Z={class:"d-flex justify-content-between align-items-center mb-2"},ee={class:"small"},te={class:"d-flex justify-content-between align-items-center mb-2"},se={class:"small"},ae={class:"d-flex justify-content-between align-items-center"},ie={class:"small"},ne={class:"card-footer"},le={key:0,class:"text-center py-5"};function re(e,t,s,a,n,l){const r=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",V,[t[1]||(t[1]=(0,i.Lk)("h2",null,"Current Incidents",-1)),(0,i.bF)(r,{to:"/create",class:"btn btn-primary"},{default:(0,i.k6)((()=>t[0]||(t[0]=[(0,i.Lk)("i",{class:"fas fa-plus me-2"},null,-1),(0,i.eW)("Create New Incident ")]))),_:1,__:[0]})]),t[10]||(t[10]=(0,i.Lk)("div",{class:"alert alert-info",role:"alert"},[(0,i.Lk)("i",{class:"fas fa-info-circle me-2"}),(0,i.eW)(" Showing incidents with status: "),(0,i.Lk)("strong",null,"Open"),(0,i.eW)(" or "),(0,i.Lk)("strong",null,"In Progress")],-1)),n.loading?((0,i.uX)(),(0,i.CE)("div",U,t[2]||(t[2]=[(0,i.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,i.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)]))):n.error?((0,i.uX)(),(0,i.CE)("div",j,[t[3]||(t[3]=(0,i.Lk)("i",{class:"fas fa-exclamation-triangle me-2"},null,-1)),(0,i.eW)(" "+(0,h.v_)(n.error),1)])):((0,i.uX)(),(0,i.CE)("div",B,[(0,i.Lk)("div",Q,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.incidents,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"col-md-6 col-lg-4 mb-4"},[(0,i.Lk)("div",H,[(0,i.Lk)("div",G,[(0,i.Lk)("small",$,"#"+(0,h.v_)(e.id),1),(0,i.Lk)("span",{class:(0,h.C4)([l.getSeverityBadgeClass(e.severity),"badge"])},(0,h.v_)(e.severity),3)]),(0,i.Lk)("div",q,[(0,i.Lk)("h5",J,(0,h.v_)(e.title),1),(0,i.Lk)("p",K,(0,h.v_)(e.description?e.description.substring(0,100)+(e.description.length>100?"...":""):"No description"),1),(0,i.Lk)("div",z,[(0,i.Lk)("div",Y,[t[4]||(t[4]=(0,i.Lk)("span",{class:"text-muted small"},"Status:",-1)),(0,i.Lk)("span",{class:(0,h.C4)([l.getStatusBadgeClass(e.status),"badge"])},(0,h.v_)(l.formatStatus(e.status)),3)]),(0,i.Lk)("div",Z,[t[5]||(t[5]=(0,i.Lk)("span",{class:"text-muted small"},"Reporter:",-1)),(0,i.Lk)("span",ee,(0,h.v_)(e.reporterName),1)]),(0,i.Lk)("div",te,[t[6]||(t[6]=(0,i.Lk)("span",{class:"text-muted small"},"Assigned to:",-1)),(0,i.Lk)("span",se,(0,h.v_)(e.assignedTo||"Unassigned"),1)]),(0,i.Lk)("div",ae,[t[7]||(t[7]=(0,i.Lk)("span",{class:"text-muted small"},"Created:",-1)),(0,i.Lk)("span",ie,(0,h.v_)(l.formatDate(e.createdDate)),1)])])]),(0,i.Lk)("div",ne,[(0,i.bF)(r,{to:`/incident/${e.id}`,class:"btn btn-primary btn-sm w-100"},{default:(0,i.k6)((()=>t[8]||(t[8]=[(0,i.Lk)("i",{class:"fas fa-eye me-2"},null,-1),(0,i.eW)("View Details ")]))),_:2,__:[8]},1032,["to"])])])])))),128))]),0===n.incidents.length?((0,i.uX)(),(0,i.CE)("div",le,t[9]||(t[9]=[(0,i.Lk)("i",{class:"fas fa-check-circle fa-3x text-success mb-3"},null,-1),(0,i.Lk)("h5",{class:"text-success"},"All clear!",-1),(0,i.Lk)("p",{class:"text-muted"},"No current incidents to display. All incidents are resolved or closed.",-1)]))):(0,i.Q3)("",!0)]))])}var oe={name:"CurrentIncidents",data(){return{incidents:[],loading:!0,error:null}},async mounted(){await this.loadCurrentIncidents()},methods:{async loadCurrentIncidents(){try{this.loading=!0,this.error=null;const e=await W.getCurrentIncidents();this.incidents=e.data}catch(e){this.error="Failed to load current incidents. Please try again later.",console.error("Error loading current incidents:",e)}finally{this.loading=!1}},getSeverityBadgeClass(e){const t={CRITICAL:"bg-danger",HIGH:"bg-warning text-dark",MEDIUM:"bg-info",LOW:"bg-success"};return t[e]||"bg-secondary"},getStatusBadgeClass(e){const t={OPEN:"bg-primary",IN_PROGRESS:"bg-warning text-dark",RESOLVED:"bg-success",CLOSED:"bg-secondary"};return t[e]||"bg-secondary"},formatStatus(e){return e.replace("_"," ")},formatDate(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString()}}};const de=(0,b.A)(oe,[["render",re]]);var ce=de;const ue={class:"d-flex justify-content-between align-items-center mb-4"},me={key:0,class:"alert alert-success alert-dismissible fade show",role:"alert"},ve={key:1,class:"alert alert-danger alert-dismissible fade show",role:"alert"},ke={class:"row justify-content-center"},pe={class:"col-md-8"},be={class:"card"},ge={class:"card-body"},Le={class:"mb-3"},fe={key:0,class:"invalid-feedback"},he={class:"mb-3"},ye={key:0,class:"invalid-feedback"},Ce={class:"form-text"},Ee={class:"row"},Ie={class:"col-md-6"},Se={class:"mb-3"},_e={key:0,class:"invalid-feedback"},xe={class:"col-md-6"},we={class:"mb-3"},Fe={key:0,class:"invalid-feedback"},Oe={class:"mb-3"},De={key:0,class:"invalid-feedback"},Re={class:"mb-3"},Ne={key:0,class:"invalid-feedback"},Te={class:"form-text"},Me={class:"d-flex justify-content-end gap-2"},We=["disabled"],Xe={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},Ae={key:1,class:"fas fa-save me-2"};function Pe(e,t,s,n,l,r){const o=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",ue,[t[11]||(t[11]=(0,i.Lk)("h2",null,"Create New Incident",-1)),(0,i.bF)(o,{to:"/",class:"btn btn-outline-secondary"},{default:(0,i.k6)((()=>t[10]||(t[10]=[(0,i.Lk)("i",{class:"fas fa-arrow-left me-2"},null,-1),(0,i.eW)("Back to List ")]))),_:1,__:[10]})]),l.successMessage?((0,i.uX)(),(0,i.CE)("div",me,[t[12]||(t[12]=(0,i.Lk)("i",{class:"fas fa-check-circle me-2"},null,-1)),(0,i.eW)(" "+(0,h.v_)(l.successMessage)+" ",1),(0,i.Lk)("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=e=>l.successMessage=""),"aria-label":"Close"})])):(0,i.Q3)("",!0),l.error?((0,i.uX)(),(0,i.CE)("div",ve,[t[13]||(t[13]=(0,i.Lk)("i",{class:"fas fa-exclamation-triangle me-2"},null,-1)),(0,i.eW)(" "+(0,h.v_)(l.error)+" ",1),(0,i.Lk)("button",{type:"button",class:"btn-close",onClick:t[1]||(t[1]=e=>l.error=""),"aria-label":"Close"})])):(0,i.Q3)("",!0),(0,i.Lk)("div",ke,[(0,i.Lk)("div",pe,[(0,i.Lk)("div",be,[(0,i.Lk)("div",ge,[(0,i.Lk)("form",{onSubmit:t[9]||(t[9]=(0,a.D$)(((...e)=>r.createIncident&&r.createIncident(...e)),["prevent"]))},[(0,i.Lk)("div",Le,[t[14]||(t[14]=(0,i.Lk)("label",{for:"title",class:"form-label"},[(0,i.eW)("Title "),(0,i.Lk)("span",{class:"text-danger"},"*")],-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",class:(0,h.C4)(["form-control",{"is-invalid":l.validation.title}]),id:"title","onUpdate:modelValue":t[2]||(t[2]=e=>l.form.title=e),placeholder:"Enter incident title",maxlength:"255",required:""},null,2),[[a.Jo,l.form.title]]),l.validation.title?((0,i.uX)(),(0,i.CE)("div",fe,(0,h.v_)(l.validation.title),1)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",he,[t[15]||(t[15]=(0,i.Lk)("label",{for:"description",class:"form-label"},"Description",-1)),(0,i.bo)((0,i.Lk)("textarea",{class:(0,h.C4)(["form-control",{"is-invalid":l.validation.description}]),id:"description","onUpdate:modelValue":t[3]||(t[3]=e=>l.form.description=e),placeholder:"Enter incident description",rows:"4",maxlength:"1000"},null,2),[[a.Jo,l.form.description]]),l.validation.description?((0,i.uX)(),(0,i.CE)("div",ye,(0,h.v_)(l.validation.description),1)):(0,i.Q3)("",!0),(0,i.Lk)("div",Ce,(0,h.v_)(l.form.description.length)+"/1000 characters",1)]),(0,i.Lk)("div",Ee,[(0,i.Lk)("div",Ie,[(0,i.Lk)("div",Se,[t[17]||(t[17]=(0,i.Lk)("label",{for:"severity",class:"form-label"},[(0,i.eW)("Severity "),(0,i.Lk)("span",{class:"text-danger"},"*")],-1)),(0,i.bo)((0,i.Lk)("select",{class:(0,h.C4)(["form-select",{"is-invalid":l.validation.severity}]),id:"severity","onUpdate:modelValue":t[4]||(t[4]=e=>l.form.severity=e),required:""},t[16]||(t[16]=[(0,i.Fv)('<option value="">Select severity</option><option value="LOW">Low</option><option value="MEDIUM">Medium</option><option value="HIGH">High</option><option value="CRITICAL">Critical</option>',5)]),2),[[a.u1,l.form.severity]]),l.validation.severity?((0,i.uX)(),(0,i.CE)("div",_e,(0,h.v_)(l.validation.severity),1)):(0,i.Q3)("",!0)])]),(0,i.Lk)("div",xe,[(0,i.Lk)("div",we,[t[18]||(t[18]=(0,i.Lk)("label",{for:"reporterName",class:"form-label"},[(0,i.eW)("Reporter Name "),(0,i.Lk)("span",{class:"text-danger"},"*")],-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",class:(0,h.C4)(["form-control",{"is-invalid":l.validation.reporterName}]),id:"reporterName","onUpdate:modelValue":t[5]||(t[5]=e=>l.form.reporterName=e),placeholder:"Enter reporter name",maxlength:"100",required:""},null,2),[[a.Jo,l.form.reporterName]]),l.validation.reporterName?((0,i.uX)(),(0,i.CE)("div",Fe,(0,h.v_)(l.validation.reporterName),1)):(0,i.Q3)("",!0)])])]),t[21]||(t[21]=(0,i.eW)()),(0,i.Lk)("div",Oe,[t[19]||(t[19]=(0,i.Lk)("label",{for:"assignedTo",class:"form-label"},"Assigned To",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",class:(0,h.C4)(["form-control",{"is-invalid":l.validation.assignedTo}]),id:"assignedTo","onUpdate:modelValue":t[6]||(t[6]=e=>l.form.assignedTo=e),placeholder:"Enter person or team name (optional)",maxlength:"100"},null,2),[[a.Jo,l.form.assignedTo]]),l.validation.assignedTo?((0,i.uX)(),(0,i.CE)("div",De,(0,h.v_)(l.validation.assignedTo),1)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",Re,[t[20]||(t[20]=(0,i.Lk)("label",{for:"resolution",class:"form-label"},"Resolution",-1)),(0,i.bo)((0,i.Lk)("textarea",{class:(0,h.C4)(["form-control",{"is-invalid":l.validation.resolution}]),id:"resolution","onUpdate:modelValue":t[7]||(t[7]=e=>l.form.resolution=e),placeholder:"Enter resolution details (optional)",rows:"3",maxlength:"1000"},null,2),[[a.Jo,l.form.resolution]]),l.validation.resolution?((0,i.uX)(),(0,i.CE)("div",Ne,(0,h.v_)(l.validation.resolution),1)):(0,i.Q3)("",!0),(0,i.Lk)("div",Te,(0,h.v_)(l.form.resolution.length)+"/1000 characters",1)]),(0,i.Lk)("div",Me,[(0,i.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[8]||(t[8]=(...e)=>r.resetForm&&r.resetForm(...e))}," Reset "),(0,i.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:l.submitting},[l.submitting?((0,i.uX)(),(0,i.CE)("span",Xe)):((0,i.uX)(),(0,i.CE)("i",Ae)),(0,i.eW)(" "+(0,h.v_)(l.submitting?"Creating...":"Create Incident"),1)],8,We)])],32)])])])])])}var Ve={name:"CreateIncident",data(){return{form:{title:"",description:"",severity:"",reporterName:"",assignedTo:"",resolution:""},validation:{},submitting:!1,error:"",successMessage:""}},methods:{async createIncident(){if(this.validateForm())try{this.submitting=!0,this.error="",this.successMessage="";const e=await W.createIncident(this.form);this.successMessage=`Incident #${e.data.id} created successfully!`,this.resetForm(),setTimeout((()=>{this.$router.push(`/incident/${e.data.id}`)}),2e3)}catch(e){e.response&&400===e.response.status?this.handleValidationErrors(e.response.data):this.error="Failed to create incident. Please try again later.",console.error("Error creating incident:",e)}finally{this.submitting=!1}},validateForm(){this.validation={};let e=!0;return this.form.title.trim()?this.form.title.length>255&&(this.validation.title="Title must not exceed 255 characters",e=!1):(this.validation.title="Title is required",e=!1),this.form.description.length>1e3&&(this.validation.description="Description must not exceed 1000 characters",e=!1),this.form.severity||(this.validation.severity="Severity is required",e=!1),this.form.reporterName.trim()?this.form.reporterName.length>100&&(this.validation.reporterName="Reporter name must not exceed 100 characters",e=!1):(this.validation.reporterName="Reporter name is required",e=!1),this.form.assignedTo.length>100&&(this.validation.assignedTo="Assigned to must not exceed 100 characters",e=!1),this.form.resolution.length>1e3&&(this.validation.resolution="Resolution must not exceed 1000 characters",e=!1),e},handleValidationErrors(e){e.errors?e.errors.forEach((e=>{const t=e.field;t&&this.form.hasOwnProperty(t)&&(this.validation[t]=e.defaultMessage)})):this.error=e.message||"Validation failed"},resetForm(){this.form={title:"",description:"",severity:"",reporterName:"",assignedTo:"",resolution:""},this.validation={},this.error="",this.successMessage=""}}};const Ue=(0,b.A)(Ve,[["render",Pe]]);var je=Ue;const Be={key:0,class:"text-center"},Qe={key:1,class:"alert alert-danger",role:"alert"},He={key:2},Ge={class:"d-flex justify-content-between align-items-start mb-4"},$e={class:"text-muted mb-0"},qe={class:"d-flex gap-2"},Je={class:"row"},Ke={class:"col-md-8"},ze={class:"card"},Ye={class:"card-body"},Ze={class:"row mb-3"},et={class:"col-sm-9"},tt={class:"row mb-3"},st={class:"col-sm-9"},at={class:"row mb-3"},it={class:"col-sm-9"},nt={class:"row mb-3"},lt={class:"col-sm-9"},rt={class:"row mb-3"},ot={class:"col-sm-9"},dt={class:"row mb-3"},ct={class:"col-sm-9"},ut={class:"row mb-3"},mt={class:"col-sm-9"},vt={class:"row"},kt={class:"col-sm-9"},pt={class:"col-md-4"},bt={class:"card"},gt={class:"card-body"},Lt={class:"d-grid gap-2"},ft=["disabled"],ht=["disabled"],yt=["disabled"],Ct=["disabled"],Et={key:0,class:"modal fade show d-block",tabindex:"-1",style:{"background-color":"rgba(0,0,0,0.5)"}},It={class:"modal-dialog"},St={class:"modal-content"},_t={class:"modal-header"},xt={class:"modal-body"},wt={class:"mb-3"},Ft={class:"mb-3"},Ot={class:"mb-3"},Dt={class:"mb-3"},Rt={class:"mb-3"},Nt={class:"mb-3"},Tt={class:"modal-footer"},Mt=["disabled"],Wt={key:0,class:"spinner-border spinner-border-sm me-2"};function Xt(e,t,s,n,l,r){const o=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",null,[l.loading?((0,i.uX)(),(0,i.CE)("div",Be,t[14]||(t[14]=[(0,i.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,i.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)]))):l.error?((0,i.uX)(),(0,i.CE)("div",Qe,[t[16]||(t[16]=(0,i.Lk)("i",{class:"fas fa-exclamation-triangle me-2"},null,-1)),(0,i.eW)(" "+(0,h.v_)(l.error)+" ",1),(0,i.bF)(o,{to:"/",class:"btn btn-primary mt-3"},{default:(0,i.k6)((()=>t[15]||(t[15]=[(0,i.Lk)("i",{class:"fas fa-arrow-left me-2"},null,-1),(0,i.eW)("Back to List ")]))),_:1,__:[15]})])):l.incident?((0,i.uX)(),(0,i.CE)("div",He,[(0,i.Lk)("div",Ge,[(0,i.Lk)("div",null,[(0,i.Lk)("h2",null,"Incident #"+(0,h.v_)(l.incident.id),1),(0,i.Lk)("p",$e,(0,h.v_)(l.incident.title),1)]),(0,i.Lk)("div",qe,[(0,i.Lk)("button",{class:"btn btn-outline-primary",onClick:t[0]||(t[0]=e=>l.showEditModal=!0)},t[17]||(t[17]=[(0,i.Lk)("i",{class:"fas fa-edit me-2"},null,-1),(0,i.eW)("Edit ")])),(0,i.bF)(o,{to:"/",class:"btn btn-outline-secondary"},{default:(0,i.k6)((()=>t[18]||(t[18]=[(0,i.Lk)("i",{class:"fas fa-arrow-left me-2"},null,-1),(0,i.eW)("Back to List ")]))),_:1,__:[18]})])]),(0,i.Lk)("div",Je,[(0,i.Lk)("div",Ke,[(0,i.Lk)("div",ze,[t[28]||(t[28]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h5",{class:"card-title mb-0"},"Incident Details")],-1)),(0,i.Lk)("div",Ye,[(0,i.Lk)("div",Ze,[t[19]||(t[19]=(0,i.Lk)("div",{class:"col-sm-3"},[(0,i.Lk)("strong",null,"Status:")],-1)),(0,i.Lk)("div",et,[(0,i.Lk)("span",{class:(0,h.C4)([r.getStatusBadgeClass(l.incident.status),"badge"])},(0,h.v_)(r.formatStatus(l.incident.status)),3)])]),(0,i.Lk)("div",tt,[t[20]||(t[20]=(0,i.Lk)("div",{class:"col-sm-3"},[(0,i.Lk)("strong",null,"Severity:")],-1)),(0,i.Lk)("div",st,[(0,i.Lk)("span",{class:(0,h.C4)([r.getSeverityBadgeClass(l.incident.severity),"badge"])},(0,h.v_)(l.incident.severity),3)])]),(0,i.Lk)("div",at,[t[21]||(t[21]=(0,i.Lk)("div",{class:"col-sm-3"},[(0,i.Lk)("strong",null,"Description:")],-1)),(0,i.Lk)("div",it,(0,h.v_)(l.incident.description||"No description provided"),1)]),(0,i.Lk)("div",nt,[t[22]||(t[22]=(0,i.Lk)("div",{class:"col-sm-3"},[(0,i.Lk)("strong",null,"Reporter:")],-1)),(0,i.Lk)("div",lt,(0,h.v_)(l.incident.reporterName),1)]),t[27]||(t[27]=(0,i.eW)()),(0,i.Lk)("div",rt,[t[23]||(t[23]=(0,i.Lk)("div",{class:"col-sm-3"},[(0,i.Lk)("strong",null,"Assigned To:")],-1)),(0,i.Lk)("div",ot,(0,h.v_)(l.incident.assignedTo||"Unassigned"),1)]),(0,i.Lk)("div",dt,[t[24]||(t[24]=(0,i.Lk)("div",{class:"col-sm-3"},[(0,i.Lk)("strong",null,"Resolution:")],-1)),(0,i.Lk)("div",ct,(0,h.v_)(l.incident.resolution||"No resolution provided"),1)]),(0,i.Lk)("div",ut,[t[25]||(t[25]=(0,i.Lk)("div",{class:"col-sm-3"},[(0,i.Lk)("strong",null,"Created:")],-1)),(0,i.Lk)("div",mt,(0,h.v_)(r.formatDateTime(l.incident.createdDate)),1)]),(0,i.Lk)("div",vt,[t[26]||(t[26]=(0,i.Lk)("div",{class:"col-sm-3"},[(0,i.Lk)("strong",null,"Last Updated:")],-1)),(0,i.Lk)("div",kt,(0,h.v_)(r.formatDateTime(l.incident.updatedDate)),1)])])])]),(0,i.Lk)("div",pt,[(0,i.Lk)("div",bt,[t[33]||(t[33]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h5",{class:"card-title mb-0"},"Quick Actions")],-1)),(0,i.Lk)("div",gt,[(0,i.Lk)("div",Lt,["OPEN"===l.incident.status?((0,i.uX)(),(0,i.CE)("button",{key:0,class:"btn btn-warning",onClick:t[1]||(t[1]=e=>r.updateStatus("IN_PROGRESS")),disabled:l.updating},t[29]||(t[29]=[(0,i.Lk)("i",{class:"fas fa-play me-2"},null,-1),(0,i.eW)("Start Progress ")]),8,ft)):(0,i.Q3)("",!0),"IN_PROGRESS"===l.incident.status?((0,i.uX)(),(0,i.CE)("button",{key:1,class:"btn btn-success",onClick:t[2]||(t[2]=e=>r.updateStatus("RESOLVED")),disabled:l.updating},t[30]||(t[30]=[(0,i.Lk)("i",{class:"fas fa-check me-2"},null,-1),(0,i.eW)("Mark Resolved ")]),8,ht)):(0,i.Q3)("",!0),"RESOLVED"===l.incident.status?((0,i.uX)(),(0,i.CE)("button",{key:2,class:"btn btn-secondary",onClick:t[3]||(t[3]=e=>r.updateStatus("CLOSED")),disabled:l.updating},t[31]||(t[31]=[(0,i.Lk)("i",{class:"fas fa-times me-2"},null,-1),(0,i.eW)("Close Incident ")]),8,yt)):(0,i.Q3)("",!0),"OPEN"!==l.incident.status?((0,i.uX)(),(0,i.CE)("button",{key:3,class:"btn btn-outline-primary",onClick:t[4]||(t[4]=e=>r.updateStatus("OPEN")),disabled:l.updating},t[32]||(t[32]=[(0,i.Lk)("i",{class:"fas fa-undo me-2"},null,-1),(0,i.eW)("Reopen ")]),8,Ct)):(0,i.Q3)("",!0)])])])])]),l.showEditModal?((0,i.uX)(),(0,i.CE)("div",Et,[(0,i.Lk)("div",It,[(0,i.Lk)("div",St,[(0,i.Lk)("div",_t,[t[34]||(t[34]=(0,i.Lk)("h5",{class:"modal-title"},"Edit Incident",-1)),(0,i.Lk)("button",{type:"button",class:"btn-close",onClick:t[5]||(t[5]=(...e)=>r.closeEditModal&&r.closeEditModal(...e))})]),(0,i.Lk)("form",{onSubmit:t[13]||(t[13]=(0,a.D$)(((...e)=>r.updateIncident&&r.updateIncident(...e)),["prevent"]))},[(0,i.Lk)("div",xt,[(0,i.Lk)("div",wt,[t[35]||(t[35]=(0,i.Lk)("label",{class:"form-label"},"Title",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>l.editForm.title=e),maxlength:"255"},null,512),[[a.Jo,l.editForm.title]])]),(0,i.Lk)("div",Ft,[t[36]||(t[36]=(0,i.Lk)("label",{class:"form-label"},"Description",-1)),(0,i.bo)((0,i.Lk)("textarea",{class:"form-control","onUpdate:modelValue":t[7]||(t[7]=e=>l.editForm.description=e),rows:"3",maxlength:"1000"},null,512),[[a.Jo,l.editForm.description]])]),(0,i.Lk)("div",Ot,[t[38]||(t[38]=(0,i.Lk)("label",{class:"form-label"},"Severity",-1)),(0,i.bo)((0,i.Lk)("select",{class:"form-select","onUpdate:modelValue":t[8]||(t[8]=e=>l.editForm.severity=e)},t[37]||(t[37]=[(0,i.Lk)("option",{value:"LOW"},"Low",-1),(0,i.Lk)("option",{value:"MEDIUM"},"Medium",-1),(0,i.Lk)("option",{value:"HIGH"},"High",-1),(0,i.Lk)("option",{value:"CRITICAL"},"Critical",-1)]),512),[[a.u1,l.editForm.severity]])]),(0,i.Lk)("div",Dt,[t[40]||(t[40]=(0,i.Lk)("label",{class:"form-label"},"Status",-1)),(0,i.bo)((0,i.Lk)("select",{class:"form-select","onUpdate:modelValue":t[9]||(t[9]=e=>l.editForm.status=e)},t[39]||(t[39]=[(0,i.Lk)("option",{value:"OPEN"},"Open",-1),(0,i.Lk)("option",{value:"IN_PROGRESS"},"In Progress",-1),(0,i.Lk)("option",{value:"RESOLVED"},"Resolved",-1),(0,i.Lk)("option",{value:"CLOSED"},"Closed",-1)]),512),[[a.u1,l.editForm.status]])]),t[43]||(t[43]=(0,i.eW)()),(0,i.Lk)("div",Rt,[t[41]||(t[41]=(0,i.Lk)("label",{class:"form-label"},"Assigned To",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=e=>l.editForm.assignedTo=e),maxlength:"100"},null,512),[[a.Jo,l.editForm.assignedTo]])]),(0,i.Lk)("div",Nt,[t[42]||(t[42]=(0,i.Lk)("label",{class:"form-label"},"Resolution",-1)),(0,i.bo)((0,i.Lk)("textarea",{class:"form-control","onUpdate:modelValue":t[11]||(t[11]=e=>l.editForm.resolution=e),rows:"3",maxlength:"1000",placeholder:"Describe how this incident was resolved..."},null,512),[[a.Jo,l.editForm.resolution]])])]),(0,i.Lk)("div",Tt,[(0,i.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[12]||(t[12]=(...e)=>r.closeEditModal&&r.closeEditModal(...e))},"Cancel"),(0,i.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:l.updating},[l.updating?((0,i.uX)(),(0,i.CE)("span",Wt)):(0,i.Q3)("",!0),t[44]||(t[44]=(0,i.eW)(" Save Changes "))],8,Mt)])],32)])])])):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)])}var At={name:"IncidentDetail",props:{id:{type:String,required:!0}},data(){return{incident:null,loading:!0,error:null,updating:!1,showEditModal:!1,editForm:{}}},async mounted(){await this.loadIncident()},watch:{id:{handler(){this.loadIncident()}}},methods:{async loadIncident(){try{this.loading=!0,this.error=null;const e=await W.getIncidentById(this.id);this.incident=e.data,this.initEditForm()}catch(e){e.response&&404===e.response.status?this.error="Incident not found":this.error="Failed to load incident. Please try again later.",console.error("Error loading incident:",e)}finally{this.loading=!1}},async updateStatus(e){try{this.updating=!0;const t={status:e},s=await W.updateIncident(this.id,t);this.incident=s.data,this.initEditForm()}catch(t){console.error("Error updating incident status:",t)}finally{this.updating=!1}},async updateIncident(){try{this.updating=!0;const e=await W.updateIncident(this.id,this.editForm);this.incident=e.data,this.closeEditModal()}catch(e){console.error("Error updating incident:",e)}finally{this.updating=!1}},initEditForm(){this.incident&&(this.editForm={title:this.incident.title,description:this.incident.description,severity:this.incident.severity,status:this.incident.status,assignedTo:this.incident.assignedTo,resolution:this.incident.resolution})},closeEditModal(){this.showEditModal=!1,this.initEditForm()},getSeverityBadgeClass(e){const t={CRITICAL:"bg-danger",HIGH:"bg-warning text-dark",MEDIUM:"bg-info",LOW:"bg-success"};return t[e]||"bg-secondary"},getStatusBadgeClass(e){const t={OPEN:"bg-primary",IN_PROGRESS:"bg-warning text-dark",RESOLVED:"bg-success",CLOSED:"bg-secondary"};return t[e]||"bg-secondary"},formatStatus(e){return e.replace("_"," ")},formatDateTime(e){if(!e)return"";const t=new Date(e);return t.toLocaleString()}}};const Pt=(0,b.A)(At,[["render",Xt]]);var Vt=Pt;const Ut=[{path:"/",name:"IncidentList",component:P},{path:"/current",name:"CurrentIncidents",component:ce},{path:"/create",name:"CreateIncident",component:je},{path:"/incident/:id",name:"IncidentDetail",component:Vt,props:!0}],jt=(0,f.aE)({history:(0,f.LA)("/"),routes:Ut});var Bt=jt;s(736);const Qt=(0,a.Ef)(L);Qt.use(Bt),Qt.mount("#app")}},t={};function s(a){var i=t[a];if(void 0!==i)return i.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,a,i,n){if(!a){var l=1/0;for(c=0;c<e.length;c++){a=e[c][0],i=e[c][1],n=e[c][2];for(var r=!0,o=0;o<a.length;o++)(!1&n||l>=n)&&Object.keys(s.O).every((function(e){return s.O[e](a[o])}))?a.splice(o--,1):(r=!1,n<l&&(l=n));if(r){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[a,i,n]}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,n,l=a[0],r=a[1],o=a[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(o)var c=o(s)}for(t&&t(a);d<l.length;d++)n=l[d],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(c)},a=self["webpackChunkincident_frontend"]=self["webpackChunkincident_frontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(608)}));a=s.O(a)})();
//# sourceMappingURL=app.0f4ae60c.js.map